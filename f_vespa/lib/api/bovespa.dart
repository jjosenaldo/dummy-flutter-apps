import 'package:meta/meta.dart';

import 'http.dart';

const List<String> availableSymbols = [
  'RRRP3',
  'EALT3',
  'EALT4',
  'ADHM3',
  'AERI3',
  'TIET11',
  'TIET3',
  'TIET4',
  'AFLT3',
  'BRGE11',
  'BRGE12',
  'BRGE3',
  'BRGE5',
  'BRGE6',
  'BRGE7',
  'BRGE8',
  'CRIV3',
  'CRIV4',
  'RPAD3',
  'RPAD5',
  'RPAD6',
  'BRIV3',
  'BRIV4',
  'ALSO3',
  'ALZR11',
  'AALR3',
  'ALPA3',
  'ALPA4',
  'APER3',
  'ALUP11',
  'ALUP3',
  'ALUP4',
  'BAZA3',
  'ABEV3',
  'AMBP3',
  'CBEE3',
  'ANIM3',
  'ARZZ3',
  'ATMP3',
  'ATOM3',
  'AURA33',
  'AZEV3',
  'AZEV4',
  'AZUL4',
  'BTOW3',
  'B3SA3',
  'BAHI3',
  'BMGB4',
  'BBDC3',
  'BBDC4',
  'BBAS3',
  'BRSR6',
  'BIDI11',
  'BIDI4',
  'BIDI3',
  'BPAN4',
  'SANB3',
  'SANB11',
  'BGIP3',
  'BGIP4',
  'BEES3',
  'BEES4',
  'BPAR3',
  'BRSR3',
  'BRSR5',
  'BDLL3',
  'BDLL4',
  'BTTL3',
  'BALM3',
  'BALM4',
  'BBPO11',
  'BBSE3',
  'BMKS3',
  'BIOM3',
  'BSEV3',
  'BKBR3',
  'BOAS3',
  'BOBR3',
  'BOBR4',
  'BBRK3',
  'BRML3',
  'BRPR3',
  'BRAP4',
  'BRAP3',
  'AGRO3',
  'BRKM6',
  'BRKM5',
  'BRKM3',
  'BSLI3',
  'BSLI4',
  'BRFS3',
  'BPAC11',
  'BPAC3',
  'BPAC5',
  'CAMB3',
  'CAML3',
  'CRFB3',
  'CASN',
  'CASN3',
  'CASN4',
  'CCRO3',
  'CEAB3',
  'CEBR3',
  'CEBR5',
  'CEBR6',
  'CEDO3',
  'CEDO4',
  'CEED3',
  'CEED4',
  'EEEL3',
  'EEEL4',
  'CEGR3',
  'CLSC3',
  'CLSC4',
  'GPAR3',
  'CEPE3',
  'CEPE5',
  'CEPE6',
  'MAPT3',
  'MAPT4',
  'CNTO3',
  'ELET3',
  'ELET6',
  'CESP3',
  'CESP5',
  'CESP6',
  'HGTX3',
  'CIEL3',
  'CEEB3',
  'CEEB5',
  'COCE3',
  'COCE5',
  'COGN3',
  'CGAS3',
  'CGAS5',
  'LCAM3',
  'SBSP3',
  'CMIG3',
  'CMIG4',
  'CPLE6',
  'CPLE3',
  'CSNA3',
  'CALI3',
  'CALI4',
  'CSMG3',
  'CPLE5',
  'CORR4',
  'RLOG3',
  'CSAN3',
  'CSRN3',
  'CSRN5',
  'CSRN6',
  'CTNM3',
  'CTNM4',
  'CPFE3',
  'CRDE3',
  'CRPG3',
  'CRPG5',
  'CRPG6',
  'HGLG11',
  'CARD3',
  'CURY3',
  'CVCB3',
  'CCPR3',
  'CYRE3',
  'DMVF3',
  'DASA3',
  'PNVL3',
  'PNVL4',
  'DIRR3',
  'DOHL3',
  'DOHL4',
  'DMMO3',
  'DTCY3',
  'DTEX3',
  'ECOR3',
  'ENBR3',
  'EKTR3',
  'EKTR4',
  'ELET5',
  'LIPR3',
  'EMAE3',
  'EMAE4',
  'EMBR3',
  'ENAT3',
  'ECPR3',
  'ECPR4',
  'ENGI',
  'ENGI11',
  'ENGI3',
  'ENGI4',
  'ENMT3',
  'ENMT4',
  'ENEV3',
  'EGIE3',
  'ENJU3',
  'EQPA3',
  'EQPA5',
  'EQPA6',
  'EQPA7',
  'EQTL3',
  'YDUQ3',
  'ALPK3',
  'ESTR3',
  'ESTR4',
  'ETER3',
  'EUCA3',
  'EUCA4',
  'EVEN3',
  'BAUH4',
  'EZTC3',
  'HTMX11',
  'FHER3',
  'FESA3',
  'FESA4',
  'FLRY3',
  'FRAS3',
  'BPFF11',
  'RBRP11',
  'GFSA3',
  'GSHP3',
  'GEPA3',
  'GEPA4',
  'GOAU3',
  'GGBR3',
  'GGBR4',
  'GOLL4',
  'GPIV33',
  'PCAR3',
  'GPCP3',
  'CGRA3',
  'CGRA4',
  'GRND3',
  'GMAT3',
  'SOMA3',
  'GUAR3',
  'HBTS5',
  'HAGA3',
  'HAGA4',
  'HAPV3',
  'HGBS11',
  'HBOR3',
  'HETA3',
  'HETA4',
  'HBSA3',
  'HOOT4',
  'HYPE3',
  'IGBR3',
  'IGTA3',
  'PARD3',
  'ROMI3',
  'IDVL3',
  'IDVL4',
  'INEP3',
  'INEP4',
  'GNDI3',
  'MEAL3',
  'MYPK3',
  'RANI3',
  'RANI4',
  'IRBR3',
  'BOVA11',
  'IVVB11',
  'ITUB4',
  'ITUB3',
  'ITSA4',
  'ITSA3',
  'JBDU3',
  'JBDU4',
  'JBSS3',
  'JPSA3',
  'JHSF3',
  'JFEN3',
  'JOPA3',
  'JOPA4',
  'CTKA3',
  'CTKA4',
  'KEPL3',
  'KLBN3',
  'KLBN4',
  'KLBN11',
  'LAVV3',
  'LLIS3',
  'LIGT3',
  'LINX3',
  'RENT3',
  'LWSA3',
  'LOGG3',
  'LOGN3',
  'LAME3',
  'LAME4',
  'AMAR3',
  'LREN3',
  'LPSB3',
  'LUPA3',
  'MDIA3',
  'MGLU3',
  'MGEL4',
  'POMO3',
  'POMO4',
  'MRFG3',
  'MXRF11',
  'MSPA3',
  'MSPA4',
  'CASH3',
  'MELK3',
  'BMEB3',
  'BMEB4',
  'MERC3',
  'MERC4',
  'BMIN3',
  'BMIN4',
  'MFII11',
  'MTIG4',
  'LEVE3',
  'FRIO3',
  'GOAU4',
  'MTSA3',
  'MTSA4',
  'MILS3',
  'BEEF',
  'BEEF3',
  'MNPR3',
  'MTRE3',
  'MMXM11',
  'MMXM3',
  'MOAR3',
  'MDNE3',
  'MOVI3',
  'MRVE3',
  'MULT3',
  'MNDL3',
  'NTCO3',
  'NATU3',
  'NEOE3',
  'NGRD3',
  'BNBR3',
  'NORD3',
  'NUTR3',
  'ODPV3',
  'OIBR4',
  'OIBR3',
  'OMGE3',
  'OSXB3',
  'OFSA3',
  'PDTC3',
  'PGMN3',
  'PATI3',
  'PATI4',
  'PEAB3',
  'PEAB4',
  'PMAM3',
  'PDGR3',
  'PETZ3',
  'RPMG3',
  'BRDT3',
  'PETR4',
  'PETR3',
  'PRIO3',
  'PTNT3',
  'PTNT4',
  'PINE4',
  'PLPL3',
  'PLAS3',
  'FRTA3',
  'PSSA3',
  'PSVM11',
  'PTBL3',
  'POSI3',
  'PPLA11',
  'PRNR3',
  'PFRM3',
  'QUAL3',
  'LJQQ3',
  'RADL3',
  'RAPT3',
  'RAPT4',
  'RCSL3',
  'RCSL4',
  'RDOR3',
  'REDE3',
  'RNEW11',
  'RNEW3',
  'RNEW4',
  'RSUL4',
  'RDNI3',
  'RSID3',
  'RAIL3',
  'SAPR11',
  'SAPR3',
  'SAPR4',
  'SNSY3',
  'SNSY5',
  'SNSY6',
  'SANB4',
  'CTSA3',
  'CTSA4',
  'STBP3',
  'SCAR3',
  'SMTO3',
  'SLED3',
  'SLED4',
  'SHUL4',
  'CSAB3',
  'CSAB4',
  'SEQL3',
  'SEER3',
  'SIMH3',
  'SQIA3',
  'SLCE3',
  'SMLS3',
  'SOND3',
  'SOND5',
  'SOND6',
  'SGPS3',
  'AHEB3',
  'AHEB5',
  'AHEB6',
  'SULA11',
  'SULA3',
  'SULA4',
  'SUZB3',
  'TAEE3',
  'TAEE4',
  'TASA3',
  'TASA4',
  'TECN3',
  'TCSA3',
  'TCNO3',
  'TCNO4',
  'TGMA3',
  'TEKA3',
  'TEKA4',
  'TKNO4',
  'TELB3',
  'TELB4',
  'VIVT3',
  'VIVT4',
  'TEND3',
  'TESA3',
  'TXRX3',
  'TIMS3',
  'SHOW3',
  'TOTS3',
  'TFCO4',
  'TRPL3',
  'TRPL4',
  'TAEE11',
  'LUXM4',
  'TRIS3',
  'TPIS3',
  'TUPY3',
  'UGPA3',
  'UCAS3',
  'UNIP3',
  'UNIP5',
  'UNIP6',
  'USIM3',
  'USIM6',
  'USIM5',
  'VALE3',
  'VLID3',
  'VVAR3',
  'VILG11',
  'VIVA3',
  'VIVR3',
  'VULC3',
  'WEGE3',
  'MWET3',
  'MWET4',
  'WHRL3',
  'WHRL4',
  'WSON33',
  'WIZS3',
  'WLMM3',
  'WLMM4',
];

class StockPrice {
  StockPrice({
    @required String? name,
    @required double? price,
    @required DateTime? lastUpdate,
  })  : name = name ?? '',
        price = price ?? 0.0,
        lastUpdate = lastUpdate ?? DateTime.now();

  factory StockPrice.fromJson(Map<String, dynamic> json) {
    return StockPrice(
      name: json['name'] as String,
      price: json['price'] as double,
      lastUpdate: DateTime.parse(json['updated_at'] as String),
    );
  }

  final String name;
  final double price;
  final DateTime lastUpdate;
}

class BovespaApi {
  static Future<StockPrice?> getStockPrice(String symbol) async {
    final json = await getStockPriceJson(symbol);
    try {
      if (json != {}) {
        return StockPrice.fromJson(json);
      }
    } catch (_) {}

    return null;
  }
}
